// test39_insertion_sort.sy - 插入排序
int arr[20];

void insertion_sort(int a[], int n) {
    int i, j;
    int key;
    for (i = 1; i < n; i = i + 1) {
        key = a[i];
        j = i - 1;
        for ( ; j >= 0; j = j - 1) {
            if (a[j] > key) {
                a[j + 1] = a[j];
            } else {
                break;
            }
        }
        a[j + 1] = key;
    }
}

void print_array(int a[], int n) {
    int i;
    for (i = 0; i < n; i = i + 1) {
        printf("%d ", a[i]);
    }
    printf("\n");
}

int is_sorted(int a[], int n) {
    int i;
    for (i = 0; i < n - 1; i = i + 1) {
        if (a[i] > a[i + 1]) {
            return 0;
        }
    }
    return 1;
}

int main() {
    int n;
    int i;
    
    n = getint();
    for (i = 0; i < n; i = i + 1) {
        arr[i] = getint();
    }
    
    printf("Before: ");
    print_array(arr, n);
    
    insertion_sort(arr, n);
    
    printf("After: ");
    print_array(arr, n);
    
    if (is_sorted(arr, n)) {
        printf("Correctly sorted!\n");
    } else {
        printf("Sort failed!\n");
    }
    
    return 0;
}
