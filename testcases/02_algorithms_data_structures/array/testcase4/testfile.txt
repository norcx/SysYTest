// test4 - static数组在不同作用域
int get_from_static_a() {
    static int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    static int idx = 0;
    int val = arr[idx];
    idx = idx + 1;
    if (idx >= 10) {
        idx = 0;
    }
    return val;
}

int get_from_static_b() {
    static int arr[10] = {100, 200, 300, 400, 500, 600, 700, 800, 900, 1000};
    static int idx = 0;
    int val = arr[idx];
    idx = idx + 1;
    if (idx >= 10) {
        idx = 0;
    }
    return val;
}

int conditional_static(int cond) {
    if (cond) {
        static int arr[5] = {11, 22, 33, 44, 55};
        static int cnt = 0;
        cnt = cnt + 1;
        return arr[cnt % 5];
    } else {
        static int arr[5] = {111, 222, 333, 444, 555};
        static int cnt = 0;
        cnt = cnt + 1;
        return arr[cnt % 5];
    }
    return 0;
}

int main() {
    int i;
    
    printf("Static A sequence: ");
    for (i = 0; i < 15; i = i + 1) {
        printf("%d ", get_from_static_a());
    }
    printf("\n");
    
    printf("Static B sequence: ");
    for (i = 0; i < 15; i = i + 1) {
        printf("%d ", get_from_static_b());
    }
    printf("\n");
    
    printf("Conditional static: ");
    for (i = 0; i < 10; i = i + 1) {
        printf("%d ", conditional_static(i % 2));
    }
    printf("\n");
    
    return 0;
}
