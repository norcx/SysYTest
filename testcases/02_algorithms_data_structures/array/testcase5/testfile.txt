// test5 - 超大局部数组（测试栈空间极限）
int checksum(int arr[], int n) {
    int i;
    int sum = 0;
    for (i = 0; i < n; i = i + 1) {
        sum = sum + arr[i];
    }
    return sum;
}

int main() {
    int huge_arr[2000];
    int i;
    
    // 初始化大数组
    for (i = 0; i < 2000; i = i + 1) {
        huge_arr[i] = i * 3 + 1;
    }
    
    // 验证
    printf("huge_arr[0] = %d\n", huge_arr[0]);
    printf("huge_arr[999] = %d\n", huge_arr[999]);
    printf("huge_arr[1999] = %d\n", huge_arr[1999]);
    
    // 修改边界
    huge_arr[0] = 9999;
    huge_arr[1999] = 8888;
    
    printf("After modify:\n");
    printf("huge_arr[0] = %d\n", huge_arr[0]);
    printf("huge_arr[1999] = %d\n", huge_arr[1999]);
    
    // 计算部分和
    int partial_sum = 0;
    for (i = 0; i < 100; i = i + 1) {
        partial_sum = partial_sum + huge_arr[i];
    }
    printf("Partial sum [0..99]: %d\n", partial_sum);
    
    return 0;
}
