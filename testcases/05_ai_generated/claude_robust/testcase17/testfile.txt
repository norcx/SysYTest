// test17_void_functions.sy - void函数测试
int g_val = 0;

void set_global(int val) {
    g_val = val;
}

void add_to_global(int delta) {
    g_val = g_val + delta;
}

void modify_array(int arr[], int idx, int val) {
    arr[idx] = val;
}

void fill_array(int arr[], int n, int val) {
    int i;
    for (i = 0; i < n; i = i + 1) {
        arr[i] = val + i;
    }
}

void print_array(int arr[], int n) {
    int i;
    for (i = 0; i < n; i = i + 1) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

void nested_void_call() {
    set_global(100);
    add_to_global(50);
    add_to_global(-30);
}

int main() {
    int arr[10];
    
    set_global(10);
    printf("After set: g_val=%d\n", g_val);  // 10
    
    add_to_global(5);
    printf("After add: g_val=%d\n", g_val);  // 15
    
    nested_void_call();
    printf("After nested: g_val=%d\n", g_val);  // 120
    
    fill_array(arr, 5, 10);
    printf("Filled array: ");
    print_array(arr, 5);  // 10 11 12 13 14
    
    modify_array(arr, 2, 99);
    printf("Modified array: ");
    print_array(arr, 5);  // 10 11 99 13 14
    
    return 0;
}
